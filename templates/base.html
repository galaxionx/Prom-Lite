<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <meta name="theme-color" content="#0a0e17">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <title>Esplendidez Prom 2026</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <div id="loading-overlay">
        <div class="spinner"></div>
        <h5 class="text-white fw-light">Please wait...</h5>
    </div>
    
    <div class="toast-container">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                <div class="custom-toast {{ category }}">
                    <span>
                        {% if category == 'error' %}<i class="fas fa-exclamation-circle text-danger me-2"></i>
                        {% else %}<i class="fas fa-check-circle text-success me-2"></i>{% endif %}
                        {{ message }}
                    </span>
                    <button onclick="this.parentElement.style.display='none'" class="btn-close btn-close-white ms-3"></button>
                </div>
                <script>
                    setTimeout(() => { document.querySelector('.custom-toast').style.display = 'none'; }, 4000);
                </script>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>


    <div class="floating-bg">
        <li><i class="fas fa-crown"></i></li>
        <li><i class="fas fa-heart"></i></li>
        <li></li> 
        <li><i class="fas fa-star"></i></li>
        <li><i class="fas fa-music"></i></li>
        <li></li>
        <li><i class="fas fa-heart"></i></li>
        <li><i class="fas fa-gem"></i></li>
        <li></li>
        <li><i class="fas fa-crown"></i></li>
    </div>

    <nav class="navbar navbar-dark py-3">
        <div class="container">
            <a class="navbar-brand fw-bold" href="/">
                <i class="fas fa-crown text-warning me-2"></i> Esplendidez Prom
            </a>
            
            {% if session.get('user_id') %}
            <div>
                <a href="/profile/edit" class="btn btn-outline-glass btn-sm me-2">
                   <i class="fas fa-user-edit"></i> Profile
                </a>
        
                <a href="/matches" class="btn btn-outline-glass btn-sm me-2">
                    <i class="fas fa-heart"></i> Matches
                </a>
                
                <a href="/logout" class="btn btn-sm text-muted">Logout</a>
            </div>
            {% endif %}

        </div>
    </nav>

    <div class="container mt-4">
        {% block content %}{% endblock %}
    </div>

    <div class="creator-signature">
        Created by <span>Aarian</span>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Find all forms
        document.querySelectorAll('form').forEach(form => {
            form.addEventListener('submit', function() {
                // Show the loader
                document.getElementById('loading-overlay').style.display = 'flex';
            });
        });
    </script>

</body>
</html>
